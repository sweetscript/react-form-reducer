!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("validatorjs")):"function"==typeof define&&define.amd?define(["exports","react","validatorjs"],t):t((e||self).reactFormReducer={},e.react,e.validatorjs)}(this,function(e,t,r){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/n(t),u=/*#__PURE__*/n(r);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var a=function(){var e=t.useState({}),r=e[0],n=e[1],o={errors:r,has:function(e){return r&&!!Object.getOwnPropertyDescriptor(r,e)},hasErrors:function(){return Object.keys(r).length>0},get:function(e){return o.has(e)?r[e]:[]},first:function(e){var t;return!!o.has(e)&&(null==r||null==(t=r[e])?void 0:t[0])},all:function(){return r},add:function(e,t){var u=i({},r);o.has(e)||(u[e]=[]),-1===u[e].indexOf(t)&&u[e].push(t),n(u)},set:function(e){n(e)},forget:function(e){if(e){if(r[e]){var t=i({},r);delete t[e],n(t)}}else o.hasErrors()&&n({})}};return o};function s(e,r){var n=a(),o=t.useState(!1),s=o[0],f=o[1],c=t.useState(!1),l=c[0],d=c[1],v=t.useState(1),p=v[0],h=v[1],g=(r||{}).onUpdateFields,y=t.useReducer(function(e,t){var r=i({},e,t);return g&&(r=g(r)),r},e),b=y[0],x=y[1],m=function(e,t){void 0===t&&(t=!0),g&&(e=g(e)),x(e),f(t)},O=function(e,t){var r={};r[e]=t,m(r,!0),n.forget(e)};return{fields:b,setFields:m,setField:O,handleInputChange:function(e){return function(t){var r=t.currentTarget||t.target,n=r.getAttribute("type")||"text";-1!==["checkbox","radio"].indexOf(n)?O(e,r instanceof HTMLInputElement&&r.checked):-1!==["number","range"].indexOf(n)?O(e,Number(r.value)):O(e,r.value)}},reset:function(){m(e,!1)},errors:n,isDirty:s,setIsDirty:f,isBusy:l,setIsBusy:d,step:p,setStep:h,validate:function(e){var t=(null==r?void 0:r.validationRules)||{},o=b;if(e){o={};var i={};for(var a in b)-1!==e.indexOf(a)&&(o[a]=b[a],t[a]&&(i[a]=t[a]));t=i}var s=new u.default(o,t,null==r?void 0:r.validationMessages);if(s.passes())return!0;var f=s.errors.all();return n.set(f),!1}}}var f=/*#__PURE__*/t.createContext({});function c(){return f}e.FormContext=c,e.FormContextProvider=function(e){var t=e.children,r=s(e.defaultValues,e.options),n=c();/*#__PURE__*/return o.default.createElement(n.Provider,{value:r},t)},e.useForm=s,e.useFormContext=function(){return t.useContext(c())},e.useFormErrors=a});
//# sourceMappingURL=index.umd.js.map
