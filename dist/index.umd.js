!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("validatorjs")):"function"==typeof define&&define.amd?define(["exports","react","validatorjs"],t):t((e||self).reactFormReducer={},e.react,e.validatorjs)}(this,function(e,t,r){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=/*#__PURE__*/n(t),o=/*#__PURE__*/n(r);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var a=function(){var e=t.useState({}),r=e[0],n=e[1],u={errors:r,has:function(e){return r&&!!Object.getOwnPropertyDescriptor(r,e)},hasErrors:function(){return Object.keys(r).length>0},get:function(e){return u.has(e)?r[e]:[]},first:function(e){var t;return!!u.has(e)&&(null==r||null==(t=r[e])?void 0:t[0])},all:function(){return r},add:function(e,t){var o=i({},r);u.has(e)||(o[e]=[]),-1===o[e].indexOf(t)&&o[e].push(t),n(o)},set:function(e){n(e)},forget:function(e){if(e){if(r[e]){var t=i({},r);delete t[e],n(t)}}else u.hasErrors()&&n({})}};return u};function s(e,r){var n=a(),u=t.useState(!1),s=u[0],f=u[1],c=t.useState(!1),l=c[0],d=c[1],v=t.useState(1),p=v[0],h=v[1],g=t.useState((null==r?void 0:r.validationRules)||{})[0],y=t.useState((null==r?void 0:r.validationMessages)||{})[0],b=(r||{}).onUpdateFields,x=t.useReducer(function(e,t){var r=i({},e,t);return b&&(r=b(r)),r},e),m=x[0],O=x[1],j=function(e,t){void 0===t&&(t=!0),b&&(e=b(e)),O(e),f(t)},F=function(e,t){var r={};r[e]=t,j(r,!0),n.forget(e)};return{fields:m,setFields:j,setField:F,handleInputChange:function(e){return function(t){var r=t.currentTarget||t.target,n=r.getAttribute("type")||"text";-1!==["checkbox","radio"].indexOf(n)?F(e,r instanceof HTMLInputElement&&r.checked):-1!==["number","range"].indexOf(n)?F(e,Number(r.value)):F(e,r.value)}},reset:function(){j(e,!1)},errors:n,isDirty:s,setIsDirty:f,isBusy:l,setIsBusy:d,step:p,setStep:h,validate:function(e){var t=m;if(e)for(var r in t={},m)e.indexOf(r)&&(t[r]=m[r]);var u=new o.default(t,g,y);if(u.passes())return!0;var i=u.errors.all();return n.set(i),!1}}}var f=/*#__PURE__*/t.createContext({});function c(){return f}e.FormContext=c,e.FormContextProvider=function(e){var t=e.children,r=s(e.defaultValues,e.options),n=c();/*#__PURE__*/return u.default.createElement(n.Provider,{value:r},t)},e.useForm=s,e.useFormContext=function(){return t.useContext(c())},e.useFormErrors=a});
//# sourceMappingURL=index.umd.js.map
