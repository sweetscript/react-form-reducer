var e=require("react"),t=require("validatorjs");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=/*#__PURE__*/r(e),u=/*#__PURE__*/r(t);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var a=function(){var t=e.useState({}),r=t[0],n=t[1],u={errors:r,has:function(e){return r&&!!Object.getOwnPropertyDescriptor(r,e)},hasErrors:function(){return Object.keys(r).length>0},get:function(e){return u.has(e)?r[e]:[]},first:function(e){var t;return!!u.has(e)&&(null==r||null==(t=r[e])?void 0:t[0])},all:function(){return r},add:function(e,t){var a=o({},r);u.has(e)||(a[e]=[]),-1===a[e].indexOf(t)&&a[e].push(t),n(a)},set:function(e){n(e)},forget:function(e){if(e){if(r[e]){var t=o({},r);delete t[e],n(t)}}else u.hasErrors()&&n({})}};return u};function i(t,r){var n=a(),i=e.useState(!1),s=i[0],f=i[1],c=e.useState(!1),l=c[0],v=c[1],d=e.useState(1),p=d[0],h=d[1],x=(r||{}).onUpdateFields,g=e.useReducer(function(e,t){var r=o({},e,t);return x&&(r=x(r)),r},t),b=g[0],y=g[1],O=function(e,t){void 0===t&&(t=!0),x&&(e=x(e)),y(e),f(t)},m=function(e,t){var r={};r[e]=t,O(r,!0),n.forget(e)};return{fields:b,setFields:O,setField:m,handleInputChange:function(e){return function(t){var r=t.currentTarget||t.target,n=r.getAttribute("type")||"text";-1!==["checkbox","radio"].indexOf(n)?m(e,r instanceof HTMLInputElement&&r.checked):-1!==["number","range"].indexOf(n)?m(e,Number(r.value)):m(e,r.value)}},reset:function(){O(t,!1)},errors:n,isDirty:s,setIsDirty:f,isBusy:l,setIsBusy:v,step:p,setStep:h,validate:function(e){var t=(null==r?void 0:r.validationRules)||{},o=b;if(e){o={};var a={};for(var i in b)-1!==e.indexOf(i)&&(o[i]=b[i],t[i]&&(a[i]=t[i]));t=a}var s=new u.default(o,t,null==r?void 0:r.validationMessages);if(s.passes())return!0;var f=s.errors.all();return n.set(f),!1}}}var s=/*#__PURE__*/e.createContext({});function f(){return s}exports.FormContext=f,exports.FormContextProvider=function(e){var t=e.children,r=i(e.defaultValues,e.options),u=f();/*#__PURE__*/return n.default.createElement(u.Provider,{value:r},t)},exports.useForm=i,exports.useFormContext=function(){return e.useContext(f())},exports.useFormErrors=a;
//# sourceMappingURL=index.cjs.map
