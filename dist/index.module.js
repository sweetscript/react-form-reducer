import r,{useState as e,useReducer as t,createContext as n,useContext as i}from"react";import a from"validatorjs";function u(){return u=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},u.apply(this,arguments)}var o=function(){var r=e({}),t=r[0],n=r[1],i={errors:t,has:function(r){return t&&!!Object.getOwnPropertyDescriptor(t,r)},hasErrors:function(){return Object.keys(t).length>0},get:function(r){return i.has(r)?t[r]:[]},first:function(r){var e;return!!i.has(r)&&(null==t||null==(e=t[r])?void 0:e[0])},all:function(){return t},add:function(r,e){var a=u({},t);i.has(r)||(a[r]=[]),-1===a[r].indexOf(e)&&a[r].push(e),n(a)},set:function(r){n(r)},forget:function(r){if(r){if(t[r]){var e=u({},t);delete e[r],n(e)}}else i.hasErrors()&&n({})}};return i};function s(r,n){var i=o(),s=e(!1),f=s[0],c=s[1],l=e(!1),v=l[0],d=l[1],p=e(1),h=p[0],g=p[1],O=e((null==n?void 0:n.validationRules)||{})[0],b=e((null==n?void 0:n.validationMessages)||{})[0],y=(n||{}).onUpdateFields,m=t(function(r,e){var t=u({},r,e);return y&&(t=y(t)),t},r),x=m[0],j=m[1],E=function(r,e){void 0===e&&(e=!0),y&&(r=y(r)),j(r),c(e)},I=function(r,e){var t={};t[r]=e,E(t,!0),i.forget(r)};return{fields:x,setFields:E,setField:I,handleInputChange:function(r){return function(e){var t=e.currentTarget||e.target,n=t.getAttribute("type")||"text";-1!==["checkbox","radio"].indexOf(n)?I(r,t instanceof HTMLInputElement&&t.checked):-1!==["number","range"].indexOf(n)?I(r,Number(t.value)):I(r,t.value)}},reset:function(){E(r,!1)},errors:i,isDirty:f,setIsDirty:c,isBusy:v,setIsBusy:d,step:h,setStep:g,validate:function(r){var e=x;if(r)for(var t in e={},x)r.indexOf(t)&&(e[t]=x[t]);var n=new a(e,O,b);if(n.passes())return!0;var u=n.errors.all();return i.set(u),!1}}}var f=/*#__PURE__*/n({});function c(){return f}function l(e){var t=e.children,n=s(e.defaultValues,e.options),i=c();/*#__PURE__*/return r.createElement(i.Provider,{value:n},t)}function v(){return i(c())}export{c as FormContext,l as FormContextProvider,s as useForm,v as useFormContext,o as useFormErrors};
//# sourceMappingURL=index.module.js.map
