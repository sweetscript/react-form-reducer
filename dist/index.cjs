var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=/*#__PURE__*/t(e);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}var o=function(){var t=e.useState({}),r=t[0],o=t[1],u={errors:r,has:function(e){return r&&!!Object.getOwnPropertyDescriptor(r,e)},hasErrors:function(){return Object.keys(r).length>0},get:function(e){return u.has(e)?r[e]:[]},first:function(e){var t;return!!u.has(e)&&(null==r||null==(t=r[e])?void 0:t[0])},all:function(){return r},add:function(e,t){var s=n({},r);u.has(e)||(s[e]=[]),-1===s[e].indexOf(t)&&s[e].push(t),o(s)},set:function(e){o(e)},forget:function(e){if(e){if(r[e]){var t=n({},r);delete t[e],o(t)}}else u.hasErrors()&&o({})}};return u};function u(t,r){var u=o(),s=e.useState(!1),a=s[0],i=s[1],c=e.useState(!1),f=c[0],l=c[1],d=e.useState(1),v=d[0],p=d[1],h=(r||{}).onUpdateFields,x=e.useReducer(function(e,t){var r=n({},e,t);return h&&(r=h(r)),r},t),g=x[0],m=x[1],y=function(e,t){void 0===t&&(t=!0),h&&(e=h(e)),m(e),i(t)},b=function(e,t){var r={};r[e]=t,y(r,!0),u.forget(e)};return{fields:g,setFields:y,setField:b,handleInputChange:function(e){return function(t){var r=t.currentTarget||t.target,n=r.getAttribute("type")||"text";-1!==["checkbox","radio"].indexOf(n)?b(e,r instanceof HTMLInputElement&&r.checked):-1!==["number","range"].indexOf(n)?b(e,Number(r.value)):b(e,r.value)}},reset:function(){y(t,!1)},errors:u,isDirty:a,setIsDirty:i,isBusy:f,setIsBusy:l,step:v,setStep:p,validate:function(e){try{var t=null==r?void 0:r.validation;if(!t)throw new Error("No validator resolver passed");var n=t.validate(g,e);return 1==n?Promise.resolve({passed:!0}):(u.set(n),Promise.resolve({passed:!1,error:n}))}catch(e){return Promise.reject(e)}}}}var s=/*#__PURE__*/e.createContext({});function a(){return s}exports.FormContext=a,exports.FormContextProvider=function(e){var t=e.children,n=u(e.defaultValues,e.options),o=a();/*#__PURE__*/return r.default.createElement(o.Provider,{value:n},t)},exports.ValidationResolver=function(){},exports.useForm=u,exports.useFormContext=function(){return e.useContext(a())},exports.useFormErrors=o;
//# sourceMappingURL=index.cjs.map
