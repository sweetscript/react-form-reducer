import r,{useState as e,useReducer as t,createContext as n,useContext as i}from"react";import a from"validatorjs";function u(){return u=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},u.apply(this,arguments)}var o=function(){var r=e({}),t=r[0],n=r[1],i={errors:t,has:function(r){return t&&!!Object.getOwnPropertyDescriptor(t,r)},hasErrors:function(){return Object.keys(t).length>0},get:function(r){return i.has(r)?t[r]:[]},first:function(r){var e;return!!i.has(r)&&(null==t||null==(e=t[r])?void 0:e[0])},all:function(){return t},add:function(r,e){var a=u({},t);i.has(r)||(a[r]=[]),-1===a[r].indexOf(e)&&a[r].push(e),n(a)},set:function(r){n(r)},forget:function(r){if(r){if(t[r]){var e=u({},t);delete e[r],n(e)}}else i.hasErrors()&&n({})}};return i};function s(r,n){var i=o(),s=e(!1),f=s[0],c=s[1],l=e(!1),v=l[0],d=l[1],p=e(1),h=p[0],g=p[1],O=(n||{}).onUpdateFields,b=t(function(r,e){var t=u({},r,e);return O&&(t=O(t)),t},r),y=b[0],m=b[1],x=function(r,e){void 0===e&&(e=!0),O&&(r=O(r)),m(r),c(e)},j=function(r,e){var t={};t[r]=e,x(t,!0),i.forget(r)};return{fields:y,setFields:x,setField:j,handleInputChange:function(r){return function(e){var t=e.currentTarget||e.target,n=t.getAttribute("type")||"text";-1!==["checkbox","radio"].indexOf(n)?j(r,t instanceof HTMLInputElement&&t.checked):-1!==["number","range"].indexOf(n)?j(r,Number(t.value)):j(r,t.value)}},reset:function(){x(r,!1)},errors:i,isDirty:f,setIsDirty:c,isBusy:v,setIsBusy:d,step:h,setStep:g,validate:function(r){var e=(null==n?void 0:n.validationRules)||{},t=y;if(r){t={};var u={};for(var o in y)-1!==r.indexOf(o)&&(t[o]=y[o],e[o]&&(u[o]=e[o]));e=u}var s=new a(t,e,null==n?void 0:n.validationMessages);if(s.passes())return!0;var f=s.errors.all();return i.set(f),!1}}}var f=/*#__PURE__*/n({});function c(){return f}function l(e){var t=e.children,n=s(e.defaultValues,e.options),i=c();/*#__PURE__*/return r.createElement(i.Provider,{value:n},t)}function v(){return i(c())}export{c as FormContext,l as FormContextProvider,s as useForm,v as useFormContext,o as useFormErrors};
//# sourceMappingURL=index.module.js.map
