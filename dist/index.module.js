import r,{useState as e,useReducer as t,createContext as n,useContext as i}from"react";function o(){return o=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},o.apply(this,arguments)}var a=function(){var r=e({}),t=r[0],n=r[1],i={errors:t,has:function(r){return t&&!!Object.getOwnPropertyDescriptor(t,r)},hasErrors:function(){return Object.keys(t).length>0},get:function(r){return i.has(r)?t[r]:[]},first:function(r){var e;return!!i.has(r)&&(null==t||null==(e=t[r])?void 0:e[0])},all:function(){return t},add:function(r,e){var a=o({},t);i.has(r)||(a[r]=[]),-1===a[r].indexOf(e)&&a[r].push(e),n(a)},set:function(r){n(r)},forget:function(r){if(r){if(t[r]){var e=o({},t);delete e[r],n(e)}}else i.hasErrors()&&n({})}};return i};function u(r,n){var i=a(),u=e(!1),s=u[0],c=u[1],f=e(!1),l=f[0],v=f[1],d=e(1),p=d[0],h=d[1],g=(n||{}).onUpdateFields,y=t(function(r,e){var t=o({},r,e);return g&&(t=g(t)),t},r),b=y[0],O=y[1],m=function(r,e){void 0===e&&(e=!0),g&&(r=g(r)),O(r),c(e)},j=function(r,e){var t={};t[r]=e,m(t,!0),i.forget(r)};return{fields:b,setFields:m,setField:j,handleInputChange:function(r){return function(e){var t=e.currentTarget||e.target,n=t.getAttribute("type")||"text";-1!==["checkbox","radio"].indexOf(n)?j(r,t instanceof HTMLInputElement&&t.checked):-1!==["number","range"].indexOf(n)?j(r,Number(t.value)):j(r,t.value)}},reset:function(){m(r,!1)},errors:i,isDirty:s,setIsDirty:c,isBusy:l,setIsBusy:v,step:p,setStep:h,validate:function(r){try{var e=null==n?void 0:n.validation;if(!e)throw new Error("No validator resolver passed");var t=e.validate(b,r);return 1==t?Promise.resolve({passed:!0}):(i.set(t),Promise.resolve({passed:!1,error:t}))}catch(r){return Promise.reject(r)}}}}var s=/*#__PURE__*/n({});function c(){return s}function f(e){var t=e.children,n=u(e.defaultValues,e.options),i=c();/*#__PURE__*/return r.createElement(i.Provider,{value:n},t)}function l(){return i(c())}var v=function(){};export{c as FormContext,f as FormContextProvider,v as ValidationResolver,u as useForm,l as useFormContext,a as useFormErrors};
//# sourceMappingURL=index.module.js.map
